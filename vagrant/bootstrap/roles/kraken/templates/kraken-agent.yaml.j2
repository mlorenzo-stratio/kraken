{#
extends: base.yaml

tracker:
  hosts:
    static:
      - host.docker.internal:15003

build_index:
  hosts:
    static:
      - host.docker.internal:15004

tls:
  name: kraken
  cas:
  - path: /etc/kraken/tls/ca/server.crt
  server:
    disabled: true
    cert:
      path: /etc/kraken/tls/ca/server.crt
    key:
      path: /etc/kraken/tls/ca/server.key
    passphrase:
      path: /etc/kraken/tls/ca/passphrase
  client:
    cert:
      path: /etc/kraken/tls/client/client.crt
    key:
      path: /etc/kraken/tls/client/client.key
    passphrase:
      path: /etc/kraken/tls/client/passphrase
#}

extends: base.yaml

tracker:
  hosts:
    static:
{% for herd_host in kraken_herd_hosts %}
      - {{ herd_host }}:{{ kraken_origin_tracker_port }}
{% endfor %}

build_index:
  hosts:
    static:
{% for herd_host in kraken_herd_hosts %}
      - {{ herd_host }}:{{ kraken_origin_build_index_port }}
{% endfor %}

tls:
  name: kraken
  cas:
  - path: {{ kraken_agent_server_crt }}
  server:
    disabled: false
    cert:
      path: {{ kraken_agent_server_crt }}
    key:
      path: {{ kraken_agent_server_key }}
    passphrase:
      path: {{ kraken_agent_server_passphrase }}
  client:
    cert:
      path: {{ kraken_agent_client_crt }}
    key:
      path: {{ kraken_agent_client_key }}
    passphrase:
      path: {{ kraken_agent_client_passphrase }}
